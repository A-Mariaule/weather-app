(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();function s(e,t,o,a=""){let n=document.createElement(e);n.className=t,o.appendChild(n),n.textContent=a}function f(e,t,o){let a=document.createElement("img");a.className=e,t.appendChild(a),a.src=o}function y(){d.classList="header__listButton",g.appendChild(d),c(i);let e=new Date(i);e.setDate(e.getDate()+1),c(e);let t=new Date(i);t.setDate(t.getDate()+2),c(t);let o=new Date(i);o.setDate(o.getDate()+3),c(o);let a=new Date(i);a.setDate(a.getDate()+4),c(a)}function c(e){let t=document.createElement("button");t.textContent=B[e.getDay()],d.appendChild(t),t.style.display="block",t.addEventListener("click",()=>{let o=document.getElementsByClassName("header__listButton")[0].children;for(let n of o)n.style.backgroundColor="white",n.style.color="black";t.style.backgroundColor="black",t.style.color="white",document.getElementsByClassName("main__header")[0].style.display="block",C(e),document.getElementsByClassName("main__header--average")[0].innerHTML=" ";let a=0;for(let n of u.children)n.style.display="none",n.classList.contains(D(e))&&(n.style.display="flex",a=a+Number(n.children[3].textContent.slice(0,-2)));N(a,e)})}function C(e){let t=new Date;t.getDate()==e.getDate()?document.getElementsByClassName("main__header--description")[0].textContent=document.getElementsByClassName("meteo__description")[0].textContent:t.getDate()+1==e.getDate()?document.getElementsByClassName("main__header--description")[0].textContent=document.getElementsByClassName("meteo__description")[r].textContent:t.getDate()+2==e.getDate()?document.getElementsByClassName("main__header--description")[0].textContent=document.getElementsByClassName("meteo__description")[r+8].textContent:t.getDate()+3==e.getDate()?document.getElementsByClassName("main__header--description")[0].textContent=document.getElementsByClassName("meteo__description")[r+16].textContent:document.getElementsByClassName("main__header--description")[0].textContent=document.getElementsByClassName("meteo__description")[r+24].textContent}function D(e){return e.getDate()<10&&e.getMonth()<10?e.getFullYear()+"-0"+(e.getMonth()+1)+"-0"+e.getDate():e.getDate()<10?e.getFullYear()+"-"+(e.getMonth()+1)+"-0"+e.getDate():e.getMonth()<10?e.getFullYear()+"-0"+(e.getMonth()+1)+"-"(e.getDate()):e.getFullYear()+"-"+(e.getMonth()+1)+"-"(e.getDate())}function N(e,t){new Date().getDate()==t.getDate()?(e=(e/r).toFixed(0),document.getElementsByClassName("main__header--average")[0].textContent=e+"°"):(e=(e/8).toFixed(0),document.getElementsByClassName("main__header--average")[0].textContent=e+"°")}function E(e){for(let t of e.list){let o=document.createElement("div");o.className="meteo",u.appendChild(o),o.classList.add(t.dt_txt.split(" ")[0]);let a=t.dt_txt.split(" ")[1].substring(0,5);s("p","meteo__heure",o,a);let n="http://openweathermap.org/img/wn/"+t.weather[0].icon+"@2x.png";f("meteo__logo",o,n);let l=t.weather[0].description;s("p","meteo__description",o,l);let m=t.main.temp.toFixed(0)+" ° ";s("p","meteo__temperature",o,m);let h=(t.wind.speed*3.6).toFixed(0)+" km/h";s("p","meteo__wind",o,h)}}const i=new Date,B=["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."];let x=document.querySelector("button");var g=document.getElementsByClassName("header")[0],d=document.createElement("div");s("h2","header__subtitle",g);let _=document.getElementsByClassName("main")[0];s("div","main__header",_);let p=document.getElementsByClassName("main__header")[0];s("p","main__header--average",p);s("p","main__header--description",p);s("div","main__listHeure",_);var u=document.getElementsByClassName("main__listHeure")[0];let b=24-i.getHours();var r=Math.floor(b/3);let w=r+32;x.addEventListener("click",()=>{u.innerHTML="",d.innerHTML="",document.getElementsByClassName("main__header")[0].style.display="none";let t=document.querySelector("input").value;(a=>fetch("https://api.openweathermap.org/data/2.5/forecast?q="+a+"&cnt="+w+"&units=metric&appid=1cdbc48903d1d699f34e221b79e38af7"))(t).then(a=>a.json()).then(a=>{localStorage.setItem("data",JSON.stringify(a));let n=JSON.parse(localStorage.getItem("data"));document.getElementsByClassName("header__subtitle")[0].textContent=n.city.name,E(n),y()})});
